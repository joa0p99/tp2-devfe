{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/forms\";\nclass DetalhesComponent {\n  constructor(route, router, http) {\n    this.route = route;\n    this.router = router;\n    this.http = http;\n    this.nome = '';\n    this.id = '';\n    this.novoNome = '';\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.id = params['id'];\n      this.nome = params['nome'];\n    });\n  }\n  salvar() {\n    const novoNome = this.novoNome.trim();\n    if (novoNome !== '') {\n      const id = this.id; // ID do nome atual que foi clicado\n      this.http.put(`http://localhost:4201/nomes/${id}`, {\n        nome: novoNome\n      }).subscribe(() => {\n        // Atualize o nome na variável this.nome\n        this.nome = novoNome;\n        // Redirecione para a página de nomes\n        this.router.navigate(['/nomes']);\n      }, error => {\n        console.log('Erro ao atualizar o nome:', error);\n      });\n    }\n  }\n  cancelar() {\n    this.router.navigate(['/nomes']);\n  }\n}\nDetalhesComponent.ɵfac = function DetalhesComponent_Factory(t) {\n  return new (t || DetalhesComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.HttpClient));\n};\nDetalhesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DetalhesComponent,\n  selectors: [[\"app-detalhes\"]],\n  decls: 17,\n  vars: 3,\n  consts: [[1, \"nome-id-container\"], [1, \"nome-container\"], [1, \"id-container\"], [\"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"]],\n  template: function DetalhesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Detalhes do Nome\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 0)(3, \"div\", 1)(4, \"p\");\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\", 2)(7, \"p\");\n      i0.ɵɵtext(8);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(9, \"div\")(10, \"label\");\n      i0.ɵɵtext(11, \"Editar nome:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function DetalhesComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.novoNome = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function DetalhesComponent_Template_button_click_13_listener() {\n        return ctx.salvar();\n      });\n      i0.ɵɵtext(14, \"Salvar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function DetalhesComponent_Template_button_click_15_listener() {\n        return ctx.cancelar();\n      });\n      i0.ɵɵtext(16, \"Cancelar\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\"Nome: \", ctx.nome, \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"ID: \", ctx.id, \"\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.novoNome);\n    }\n  },\n  dependencies: [i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n  styles: [\".nome-id-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n  }\\n  \\n  .nome-container[_ngcontent-%COMP%], .id-container[_ngcontent-%COMP%] {\\n    margin-right: 10px;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGV0YWxoZXMvZGV0YWxoZXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSxrQkFBa0I7RUFDcEIiLCJzb3VyY2VzQ29udGVudCI6WyIubm9tZS1pZC1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgfVxuICBcbiAgLm5vbWUtY29udGFpbmVyLCAuaWQtY29udGFpbmVyIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gIH1cbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { DetalhesComponent };","map":{"version":3,"names":["DetalhesComponent","constructor","route","router","http","nome","id","novoNome","ngOnInit","params","subscribe","salvar","trim","put","navigate","error","console","log","cancelar","i0","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","HttpClient","selectors","decls","vars","consts","template","DetalhesComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","DetalhesComponent_Template_input_ngModelChange_12_listener","$event","DetalhesComponent_Template_button_click_13_listener","DetalhesComponent_Template_button_click_15_listener","ɵɵadvance","ɵɵtextInterpolate1","ɵɵproperty"],"sources":["/home/joaopaulo/Music/tp2-devfe/src/app/detalhes/detalhes.component.ts","/home/joaopaulo/Music/tp2-devfe/src/app/detalhes/detalhes.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-detalhes',\n  templateUrl: './detalhes.component.html',\n  styleUrls: ['./detalhes.component.css']\n})\nexport class DetalhesComponent implements OnInit {\n  nome: string = '';\n  id: string = '';\n  novoNome: string = '';\n\n  constructor(private route: ActivatedRoute, private router: Router, private http: HttpClient) { }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.id = params['id'];\n      this.nome = params['nome'];\n\n    });\n  }\n\n  salvar() {\n    const novoNome = this.novoNome.trim();\n    \n    if (novoNome !== '') {\n      const id = this.id; // ID do nome atual que foi clicado\n      this.http.put(`http://localhost:4201/nomes/${id}`, { nome: novoNome }).subscribe(\n        () => {\n          // Atualize o nome na variável this.nome\n          this.nome = novoNome;\n  \n          // Redirecione para a página de nomes\n          this.router.navigate(['/nomes']);\n        },\n        error => {\n          console.log('Erro ao atualizar o nome:', error);\n        }\n      );\n    }\n  }\n\n  cancelar() {\n    this.router.navigate(['/nomes']);\n  }\n}\n","<h2>Detalhes do Nome</h2>\n<div class=\"nome-id-container\">\n  <div class=\"nome-container\">\n    <p>Nome: {{ nome }}</p>\n  </div>\n  <div class=\"id-container\">\n    <p>ID: {{ id }}</p>\n  </div>\n</div>\n\n<div>\n  <label>Editar nome:</label>\n  <input type=\"text\" [(ngModel)]=\"novoNome\" />\n</div>\n\n<button (click)=\"salvar()\">Salvar</button>\n<button (click)=\"cancelar()\">Cancelar</button>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}